meta {
  name: Include Full Entry Param with Fields
  type: http
  seq: 7
}

get {
  url: {{baseUrl}}?elementType=entries&id=48&fields=entries.asset,categories.entries.asset,contentBlock.singleMatrix.entries.asset&includeFullEntry=1&one=1
  body: none
  auth: inherit
}

params:query {
  elementType: entries
  id: 48
  fields: entries.asset,categories.entries.asset,contentBlock.singleMatrix.entries.asset
  includeFullEntry: 1
  one: 1
}

assert {
  res.status: eq 200
}

tests {
  const helper = require('./tests');
  const homeEntryKeys = ['asset']
  helper.isValidNestedByPaths({
    'categories[]': {
      children: {
        'entries[]': { keys: homeEntryKeys }
      }
    },
    'contentBlock': {
      children: {
        'singleMatrix.entries[]': { keys: homeEntryKeys }
      }
    },
    'entries[]': { 
      keys: homeEntryKeys 
    },
  });
  
}

settings {
  encodeUrl: true
}

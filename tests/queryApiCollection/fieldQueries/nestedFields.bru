meta {
  name: Nested Fields
  type: http
  seq: 1
}

get {
  url: {{baseUrl}}?elementType=entries&id=48&fields=asset.srcSets%2Casset.url%2Ccategories.entries%2Cmetadata.id%2Cmetadata.entryType&one=1
  body: none
  auth: inherit
}

params:query {
  elementType: entries
  id: 48
  fields: asset.srcSets%2Casset.url%2Ccategories.entries%2Cmetadata.id%2Cmetadata.entryType
  one: 1
}

assert {
  res.status: eq 200
}

tests {
  const helper = require('./tests');
  const properties = {
    metadata: [['id', 'entryType'], false],
    sectionHandle: [[], false, 'string'],
    asset: [['srcSets', 'url'], true],
    categories: [['entries'], true]
  }
  
  helper.isValidNestedDataResp(properties)
}

settings {
  encodeUrl: true
  timeout: 0
}
